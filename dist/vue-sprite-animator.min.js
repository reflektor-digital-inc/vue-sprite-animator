!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("SpriteAnimator",[],t):"object"==typeof exports?exports.SpriteAnimator=t():n.SpriteAnimator=t()}(this,function(){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var e={};return t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=7)}([function(n,t,e){n.exports=!e(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(n,t){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,t){var e=n.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)},function(n,t){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,t){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(n,t,e){e(25);var r=e(23)(e(6),e(24),null,null);r.options.__file="/Users/max/projects/vue-sprite-animator/src/SpriteAnimator.vue",r.esModule&&Object.keys(r.esModule).some(function(n){return"default"!==n&&"__esModule"!==n})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] SpriteAnimator.vue: functional components are not supported with templates, they should use render functions."),n.exports=r.exports},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(8),o=function(n){return n&&n.__esModule?n:{default:n}}(r);t.default={name:"v-sprite",props:{spritesheet:{required:!0,type:String,default:""},json:{required:!0,type:Object,default:{}},fps:{type:Number,default:30},autoplay:{type:Boolean,default:!0},autostop:{type:Boolean,default:!1},yoyo:{type:Boolean,default:!1},id:{type:String,default:"vue-sprite"}},data:function(){return{frames:[],visible:!0,length:0,frameIndex:0,currentIndex:0,animationFrameID:null,yoyodirection:0,sprite:null,ctx:null,height:0,width:0,now:0,then:0}},mounted:function(){var n=this;this.json.frames.forEach(function(t){n.frames.push({name:t.filename,x:t.frame.x,y:t.frame.y,w:t.frame.w,h:t.frame.h})}),this.width=this.frames[0].w,this.height=this.frames[0].h,this.length=this.frames.length-1},created:function(){var n=this;this.$nextTick(function(){n.sprite=new Image,n.sprite.src=n.spritesheet,n.sprite.onload=function(t){var e=t.target;n.init(e)}})},methods:{init:function(n){this.ctx=this.$refs["vue-sprite-canvas"].getContext("2d"),this.autoplay&&this.loop()},render:function(){this.ctx&&this.ctx.clearRect(0,0,this.width,this.height),this.yoyo&&this.currentIndex%this.length==0&&this.currentIndex&&(this.yoyodirection=Number(!this.yoyodirection));var n=Math.abs(this.currentIndex%this.length-this.length*this.yoyodirection),t=this.frames[n].x,e=this.frames[n].y;this.ctx&&this.ctx.drawImage(this.sprite,t,e,this.width,this.height,0,0,this.width,this.height)},loop:function(){this.now=Date.now();var n=this.now-this.then;n>1e3/this.fps&&(this.then=this.now-n%(1e3/this.fps),this.render(),this.currentIndex++),this.autostop&&this.currentIndex>this.length||(this.animationFrameID=window.requestAnimationFrame(this.loop))},stop:function(){window.cancelAnimationFrame(this.animationFrameID),this.currentIndex=0},play:function(n){this.currentIndex=(0,o.default)(Number(n))?this.currentIndex:n,this.loop()}}}},function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(5),o=function(n){return n&&n.__esModule?n:{default:n}}(r),i={install:function(n,t){n.component(o.default.name,o.default)}};t.default=i},function(n,t,e){n.exports={default:e(9),__esModule:!0}},function(n,t,e){e(20),n.exports=e(2).Number.isNaN},function(n,t){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},function(n,t,e){var r=e(1);n.exports=function(n){if(!r(n))throw TypeError(n+" is not an object!");return n}},function(n,t,e){var r=e(10);n.exports=function(n,t,e){if(r(n),void 0===t)return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,o){return n.call(t,e,r,o)}}return function(){return n.apply(t,arguments)}}},function(n,t,e){var r=e(1),o=e(4).document,i=r(o)&&r(o.createElement);n.exports=function(n){return i?o.createElement(n):{}}},function(n,t,e){var r=e(4),o=e(2),i=e(12),u=e(15),s=function(n,t,e){var a,c,f,p=n&s.F,l=n&s.G,d=n&s.S,h=n&s.P,v=n&s.B,m=n&s.W,y=l?o:o[t]||(o[t]={}),x=y.prototype,g=l?r:d?r[t]:(r[t]||{}).prototype;l&&(e=t);for(a in e)(c=!p&&g&&void 0!==g[a])&&a in y||(f=c?g[a]:e[a],y[a]=l&&"function"!=typeof g[a]?e[a]:v&&c?i(f,r):m&&g[a]==f?function(n){var t=function(t,e,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,r)}return n.apply(this,arguments)};return t.prototype=n.prototype,t}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((y.virtual||(y.virtual={}))[a]=f,n&s.R&&x&&!x[a]&&u(x,a,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,n.exports=s},function(n,t,e){var r=e(17),o=e(18);n.exports=e(0)?function(n,t,e){return r.f(n,t,o(1,e))}:function(n,t,e){return n[t]=e,n}},function(n,t,e){n.exports=!e(0)&&!e(3)(function(){return 7!=Object.defineProperty(e(13)("div"),"a",{get:function(){return 7}}).a})},function(n,t,e){var r=e(11),o=e(16),i=e(19),u=Object.defineProperty;t.f=e(0)?Object.defineProperty:function(n,t,e){if(r(n),t=i(t,!0),r(e),o)try{return u(n,t,e)}catch(n){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(n[t]=e.value),n}},function(n,t){n.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},function(n,t,e){var r=e(1);n.exports=function(n,t){if(!r(n))return n;var e,o;if(t&&"function"==typeof(e=n.toString)&&!r(o=e.call(n)))return o;if("function"==typeof(e=n.valueOf)&&!r(o=e.call(n)))return o;if(!t&&"function"==typeof(e=n.toString)&&!r(o=e.call(n)))return o;throw TypeError("Can't convert object to primitive value")}},function(n,t,e){var r=e(14);r(r.S,"Number",{isNaN:function(n){return n!=n}})},function(n,t,e){t=n.exports=e(22)(),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},function(n,t){n.exports=function(){var n=[];return n.toString=function(){for(var n=[],t=0;t<this.length;t++){var e=this[t];e[2]?n.push("@media "+e[2]+"{"+e[1]+"}"):n.push(e[1])}return n.join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var u=t[o];"number"==typeof u[0]&&r[u[0]]||(e&&!u[2]?u[2]=e:e&&(u[2]="("+u[2]+") and ("+e+")"),n.push(u))}},n}},function(n,t){n.exports=function(n,t,e,r){var o,i=n=n||{},u=typeof n.default;"object"!==u&&"function"!==u||(o=n,i=n.default);var s="function"==typeof i?i.options:i;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),e&&(s._scopeId=e),r){var a=s.computed||(s.computed={});Object.keys(r).forEach(function(n){var t=r[n];a[n]=function(){return t}})}return{esModule:o,exports:i,options:s}}},function(n,t,e){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"vue-sprite"},[e("canvas",{ref:"vue-sprite-canvas",attrs:{id:n.id,width:n.width,height:n.height}})])},staticRenderFns:[]},n.exports.render._withStripped=!0},function(n,t,e){var r=e(21);"string"==typeof r&&(r=[[n.i,r,""]]),r.locals&&(n.exports=r.locals),e(26)("624a93cc",r,!1)},function(n,t,e){function r(n){for(var t=0;t<n.length;t++){var e=n[t],r=f[e.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](e.parts[o]);for(;o<e.parts.length;o++)r.parts.push(i(e.parts[o]));r.parts.length>e.parts.length&&(r.parts.length=e.parts.length)}else{for(var u=[],o=0;o<e.parts.length;o++)u.push(i(e.parts[o]));f[e.id]={id:e.id,refs:1,parts:u}}}}function o(){var n=document.createElement("style");return n.type="text/css",p.appendChild(n),n}function i(n){var t,e,r=document.querySelector('style[data-vue-ssr-id~="'+n.id+'"]');if(r){if(h)return v;r.parentNode.removeChild(r)}if(m){var i=d++;r=l||(l=o()),t=u.bind(null,r,i,!1),e=u.bind(null,r,i,!0)}else r=o(),t=s.bind(null,r),e=function(){r.parentNode.removeChild(r)};return t(n),function(r){if(r){if(r.css===n.css&&r.media===n.media&&r.sourceMap===n.sourceMap)return;t(n=r)}else e()}}function u(n,t,e,r){var o=e?"":r.css;if(n.styleSheet)n.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),u=n.childNodes;u[t]&&n.removeChild(u[t]),u.length?n.insertBefore(i,u[t]):n.appendChild(i)}}function s(n,t){var e=t.css,r=t.media,o=t.sourceMap;if(r&&n.setAttribute("media",r),o&&(e+="\n/*# sourceURL="+o.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=e(27),f={},p=a&&(document.head||document.getElementsByTagName("head")[0]),l=null,d=0,h=!1,v=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());n.exports=function(n,t,e){h=e;var o=c(n,t);return r(o),function(t){for(var e=[],i=0;i<o.length;i++){var u=o[i],s=f[u.id];s.refs--,e.push(s)}t?(o=c(n,t),r(o)):o=[];for(var i=0;i<e.length;i++){var s=e[i];if(0===s.refs){for(var a=0;a<s.parts.length;a++)s.parts[a]();delete f[s.id]}}}};var y=function(){var n=[];return function(t,e){return n[t]=e,n.filter(Boolean).join("\n")}}()},function(n,t){n.exports=function(n,t){for(var e=[],r={},o=0;o<t.length;o++){var i=t[o],u=i[0],s=i[1],a=i[2],c=i[3],f={id:n+":"+o,css:s,media:a,sourceMap:c};r[u]?r[u].parts.push(f):e.push(r[u]={id:u,parts:[f]})}return e}}])});